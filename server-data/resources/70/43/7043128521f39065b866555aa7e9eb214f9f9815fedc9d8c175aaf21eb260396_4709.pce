{
  "__type": "org.pointrel.pointrel20141201.PointrelContentEnvelope",
  "__envelopeVersion": "pointrel20141201-0.0.3",
  "id": "list",
  "contentType": "application/javascript",
  "committer": "tester",
  "timestamp": "2015-02-23T16:39:48.551Z",
  "content": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"> \n<html>\n\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n<title>Twirlip Information Organizer</title>\n<script src=\"//ajaxorg.github.io/ace-builds/src-min-noconflict/ace.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\n<link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dojo/resources/dojo.css\">\n<link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dijit/themes/dijit.css\">\n<link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dijit/themes/claro/claro.css\">\n<link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dojox/layout/resources/ResizeHandle.css\" />\n<link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dojox/widget/Toaster/Toaster.css\" >\n\n<script>\n    var dojoConfig;\n    (function(){\n        var baseUrl = \"/lib/\";\n        dojoConfig = {\n            async: true,\n            parseOnLoad: false,\n            packages: [\n                { name: \"js\", location: location.pathname.replace(/\\/[^/]+$/, '') + \"/js\"},\n                { name: \"lib\", location: baseUrl}\n            ]\n        };\n    }());\n</script>\n\n<script src=\"//ajax.googleapis.com/ajax/libs/dojo/1.10.2/dojo/dojo.js\"></script>\n\n</head>\n\n<body class=\"claro\">\n    <noscript>Please enable JavaScript to use Twirlip.</noscript>\n    <div id=\"startup\" style=\"display: none\"><b>Starting up Twirlip; please wait...</b></div>\n    <script>console.log(\"started loading...\"); document.getElementById(\"startup\").style.display=\"block\";</script>\n<script>\n\nrequire([\n    \"dijit/form/Button\",\n    \"dojo/_base/connect\",\n    \"dijit/layout/ContentPane\",\n    \"dojo/dom\",\n    \"dojo/dom-construct\",\n    \"dojo/hash\",\n    \"js/mimeTypes.js\",\n    \"js/pointrel20141201Client\",\n    \"dijit/form/SimpleTextarea\",\n    \"dijit/form/TextBox\",\n    \"dojox/widget/Toaster\",\n    \"dojox/form/Uploader\",\n    \"dojo/domReady!\"\n], function(\n    Button,\n    connect,\n    ContentPane,\n    dom,\n    domConstruct,\n    hash,\n    mimeTypes,\n    pointrel20141201Client,\n    SimpleTextarea,\n    TextBox,\n    Toaster,\n    Uploader\n) {\n    function addBreak(contentPane) {\n        contentPane.domNode.appendChild(document.createElement('br'));\n    }\n    \n    function addText(contentPane, text) {\n        contentPane.domNode.appendChild(document.createTextNode(text));\n    }\n    \n    function addHTML(contentPane, htmlText) {\n        var childContentPane = new ContentPane({\n            content: htmlText\n        });\n        \n       childContentPane.placeAt(contentPane);\n       return childContentPane;\n    }\n    \n    // Creating interface\n    var mainContentPane = new ContentPane({\n    });\n    \n    document.body.appendChild(mainContentPane.domNode);\n    mainContentPane.startup();\n    \n    var outputContentPane = addHTML(mainContentPane, \"Versions: \");\n    \n    function listAllIDs() {\n        console.log(\"List all IDs\");\n        pointrel20141201Client.fetchIDs(function(error, data) {\n            if (error) {\n                console.log(\"Error retrieving list of all IDs\");\n                return;\n            }\n            console.log(\"data\", data);\n            var allIDsSorted = data.idList.sort();\n            // outputContentPane.set(\"content\", \"List of all IDs:<br><pre>\" + JSON.stringify(allIDsSorted, null, 2) + \"</pre>\");\n            var output = 'List of all document IDs with links to view or edit:<br>';\n            for (var idIndex in allIDsSorted) {\n                var id = allIDsSorted[idIndex];\n                // var reference = id + ' <a href=\"' + id + '\">' + id + '</a><br>';\n                // var reference = id + ' <a href=\"' + id + '\">view</a> <a href=\"editor#' + id + '\">edit</a><br>';\n                // var reference = '<a href=\"editor#' + id + '\">' + id + '</a> <br>';\n                var reference = '<a href=\"editor#' + id + '\">[EDIT]</a> <a href=\"' + id + '\">' + id + '</a><br>';\n                output = output + reference;\n            }\n            outputContentPane.set(\"content\", output);\n        });\n    }\n    \n    listAllIDs();\n    \n    document.getElementById(\"startup\").style.display = \"none\";\n});\n</script>\n</body>\n</html>"
}